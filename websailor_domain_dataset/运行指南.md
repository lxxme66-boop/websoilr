# WebSailor Domain Dataset è¿è¡ŒæŒ‡å—

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

WebSailor Domain Dataset æ˜¯ä¸€ä¸ªä¸“é—¨ç”¨äºæ„å»ºé¢†åŸŸçŸ¥è¯†å›¾è°±å’Œç”Ÿæˆé—®ç­”æ•°æ®é›†çš„å·¥å…·ã€‚å®ƒå¯ä»¥ä»é¢†åŸŸæ–‡æœ¬ä¸­è‡ªåŠ¨æå–å®ä½“ã€å…³ç³»ï¼Œæ„å»ºçŸ¥è¯†å›¾è°±ï¼Œå¹¶ç”Ÿæˆç›¸åº”çš„é—®ç­”å¯¹æ•°æ®ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒè¦æ±‚
- **Pythonç‰ˆæœ¬**: 3.8 æˆ–æ›´é«˜ç‰ˆæœ¬
- **æ“ä½œç³»ç»Ÿ**: Windows, macOS, Linux éƒ½æ”¯æŒ  
- **å†…å­˜**: å»ºè®®è‡³å°‘ 4GB RAM
- **å­˜å‚¨**: è‡³å°‘ 1GB å¯ç”¨ç©ºé—´

### 2. ä¾èµ–å®‰è£…

é¡¹ç›®ä¾èµ–å·²ç»å®‰è£…å®Œæˆï¼ŒåŒ…æ‹¬ï¼š
- NetworkX (å›¾è®¡ç®—)
- jieba (ä¸­æ–‡åˆ†è¯)
- spaCy (è‡ªç„¶è¯­è¨€å¤„ç†)
- PyTorch (æ·±åº¦å­¦ä¹ )
- transformers (é¢„è®­ç»ƒæ¨¡å‹)
- å…¶ä»–æ”¯æŒåº“

### 3. ç›®å½•ç»“æ„

```
websailor_domain_dataset/
â”œâ”€â”€ main.py                 # ä¸»ç¨‹åºå…¥å£
â”œâ”€â”€ demo.py                 # å¿«é€Ÿæ¼”ç¤ºè„šæœ¬
â”œâ”€â”€ config.json             # é…ç½®æ–‡ä»¶
â”œâ”€â”€ requirements.txt        # ä¾èµ–åŒ…åˆ—è¡¨
â”œâ”€â”€ README.md               # é¡¹ç›®è¯´æ˜
â”œâ”€â”€ core/                   # æ ¸å¿ƒåŠŸèƒ½æ¨¡å—
â”‚   â”œâ”€â”€ knowledge_graph_builder.py  # çŸ¥è¯†å›¾è°±æ„å»º
â”‚   â”œâ”€â”€ subgraph_sampler.py         # å­å›¾é‡‡æ ·
â”‚   â””â”€â”€ qa_generator.py             # é—®ç­”ç”Ÿæˆ
â”œâ”€â”€ utils/                  # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ text_utils.py       # æ–‡æœ¬å¤„ç†å·¥å…·
â”‚   â”œâ”€â”€ graph_utils.py      # å›¾å¤„ç†å·¥å…·
â”‚   â””â”€â”€ file_utils.py       # æ–‡ä»¶å¤„ç†å·¥å…·
â”œâ”€â”€ templates/              # æ¨¡æ¿æ–‡ä»¶
â”œâ”€â”€ input_texts/            # è¾“å…¥æ–‡æœ¬ç›®å½•
â””â”€â”€ output_dataset/         # è¾“å‡ºæ•°æ®é›†ç›®å½•
```

## ğŸ“– ä½¿ç”¨æ–¹æ³•

### æ–¹æ³•1: å¿«é€Ÿæ¼”ç¤ºï¼ˆæ¨èæ–°ç”¨æˆ·ï¼‰

```bash
cd websailor_domain_dataset
python3 demo.py
```

è¿™å°†è¿è¡Œä¸€ä¸ªç®€åŒ–çš„æ¼”ç¤ºï¼Œå±•ç¤ºï¼š
- ä¸­æ–‡åˆ†è¯åŠŸèƒ½
- è¯æ€§æ ‡æ³¨
- å…³é”®è¯æå–
- ç»“æœä¿å­˜

### æ–¹æ³•2: å®Œæ•´åŠŸèƒ½è¿è¡Œ

#### æ­¥éª¤1: å‡†å¤‡è¾“å…¥æ•°æ®
å°†æ‚¨çš„é¢†åŸŸæ–‡æœ¬æ–‡ä»¶æ”¾å…¥ `input_texts/` ç›®å½•ï¼š

```bash
# åˆ›å»ºè¾“å…¥ç›®å½•ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰
mkdir -p input_texts

# å°†æ‚¨çš„æ–‡æœ¬æ–‡ä»¶å¤åˆ¶åˆ°æ­¤ç›®å½•ï¼Œä¾‹å¦‚ï¼š
cp /path/to/your/domain_text.txt input_texts/
```

**æ”¯æŒçš„æ–‡ä»¶æ ¼å¼**ï¼š
- `.txt` æ–‡ä»¶ï¼ˆUTF-8 ç¼–ç ï¼‰
- å»ºè®®æ–‡ä»¶å¤§å°åœ¨1MBä»¥å†…
- æ–‡ä»¶åå»ºè®®ä½¿ç”¨è‹±æ–‡

#### æ­¥éª¤2: è¿è¡Œä¸»ç¨‹åº

```bash
# ä½¿ç”¨é»˜è®¤é…ç½®è¿è¡Œ
python3 main.py --input-dir input_texts --output-dir output_dataset

# æŸ¥çœ‹æ‰€æœ‰å¯ç”¨å‚æ•°
python3 main.py --help
```

**å¯ç”¨å‚æ•°**ï¼š
- `--config`: æŒ‡å®šé…ç½®æ–‡ä»¶è·¯å¾„
- `--input-dir`: è¾“å…¥æ–‡æœ¬ç›®å½•
- `--output-dir`: è¾“å‡ºæ•°æ®é›†ç›®å½•  
- `--log-level`: æ—¥å¿—çº§åˆ« (DEBUG, INFO, WARNING, ERROR)

### æ–¹æ³•3: è‡ªå®šä¹‰é…ç½®è¿è¡Œ

ç¼–è¾‘ `config.json` æ–‡ä»¶æ¥è°ƒæ•´å‚æ•°ï¼š

```json
{
  "subgraph_sampling": {
    "strategies": [
      {
        "name": "topology_based",
        "count": 200,
        "params": {
          "min_nodes": 3,
          "max_nodes": 10
        }
      }
    ]
  },
  "entity_extraction": {
    "use_ner": true,
    "use_dependency_parsing": true,
    "min_entity_length": 2
  }
}
```

ç„¶åè¿è¡Œï¼š

```bash
python3 main.py --config config.json --input-dir input_texts --output-dir output_dataset
```

## ğŸ“Š è¾“å‡ºç»“æœ

ç¨‹åºè¿è¡Œå®Œæˆåï¼Œä¼šåœ¨è¾“å‡ºç›®å½•ç”Ÿæˆä»¥ä¸‹æ–‡ä»¶ï¼š

```
output_dataset/
â”œâ”€â”€ knowledge_graph.json    # çŸ¥è¯†å›¾è°±æ•°æ®
â”œâ”€â”€ subgraphs/             # å­å›¾æ•°æ®é›†
â”‚   â”œâ”€â”€ subgraph_001.json  # å•ä¸ªå­å›¾æ–‡ä»¶
â”‚   â””â”€â”€ ...
â”œâ”€â”€ qa_pairs/              # é—®ç­”å¯¹æ•°æ®
â”‚   â”œâ”€â”€ qa_dataset.json    # é—®ç­”æ•°æ®é›†
â”‚   â””â”€â”€ qa_statistics.json # ç»Ÿè®¡ä¿¡æ¯
â””â”€â”€ visualizations/        # å¯è§†åŒ–ç»“æœ
    â”œâ”€â”€ knowledge_graph.html # çŸ¥è¯†å›¾è°±å¯è§†åŒ–
    â””â”€â”€ subgraph_samples.html # å­å›¾æ ·ä¾‹å¯è§†åŒ–
```

## âš™ï¸ é…ç½®è¯´æ˜

### ä¸»è¦é…ç½®é¡¹

1. **å­å›¾é‡‡æ ·é…ç½®** (`subgraph_sampling`)
   - `strategies`: é‡‡æ ·ç­–ç•¥åˆ—è¡¨
   - `count`: æ¯ç§ç­–ç•¥çš„é‡‡æ ·æ•°é‡
   - `min_nodes/max_nodes`: å­å›¾èŠ‚ç‚¹æ•°èŒƒå›´

2. **å®ä½“æå–é…ç½®** (`entity_extraction`)
   - `use_ner`: æ˜¯å¦ä½¿ç”¨å‘½åå®ä½“è¯†åˆ«
   - `use_dependency_parsing`: æ˜¯å¦ä½¿ç”¨ä¾å­˜å¥æ³•åˆ†æ
   - `min_entity_length`: æœ€å°å®ä½“é•¿åº¦

3. **é—®ç­”ç”Ÿæˆé…ç½®** (`qa_generation`)
   - `templates`: é—®ç­”æ¨¡æ¿
   - `max_questions_per_subgraph`: æ¯ä¸ªå­å›¾æœ€å¤§é—®é¢˜æ•°

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **ä¾èµ–åŒ…é—®é¢˜**
   ```bash
   pip3 install --break-system-packages -r requirements.txt
   ```

2. **å†…å­˜ä¸è¶³**
   - å‡å°‘é…ç½®æ–‡ä»¶ä¸­çš„é‡‡æ ·æ•°é‡
   - å¤„ç†è¾ƒå°çš„æ–‡æœ¬æ–‡ä»¶

3. **ç¼–ç é—®é¢˜**
   - ç¡®ä¿è¾“å…¥æ–‡æœ¬ä¸ºUTF-8ç¼–ç 
   - æ£€æŸ¥æ–‡ä»¶æ˜¯å¦åŒ…å«ç‰¹æ®Šå­—ç¬¦

4. **ç©ºçŸ¥è¯†å›¾è°±é—®é¢˜**
   - æ£€æŸ¥è¾“å…¥æ–‡æœ¬è´¨é‡
   - è°ƒæ•´å®ä½“æå–å‚æ•°
   - å¢åŠ é¢†åŸŸè¯å…¸

### æ—¥å¿—è°ƒè¯•

ä½¿ç”¨è¯¦ç»†æ—¥å¿—æ¨¡å¼è¿è¡Œï¼š

```bash
python3 main.py --log-level DEBUG --input-dir input_texts --output-dir output_dataset
```

## ğŸ“ ç¤ºä¾‹ç”¨æ³•

### ç¤ºä¾‹1: å¤„ç†AIé¢†åŸŸæ–‡æœ¬

```bash
# 1. å‡†å¤‡è¾“å…¥æ–‡ä»¶
echo "äººå·¥æ™ºèƒ½æ˜¯è®¡ç®—æœºç§‘å­¦çš„é‡è¦åˆ†æ”¯..." > input_texts/ai_domain.txt

# 2. è¿è¡Œç¨‹åº
python3 main.py --input-dir input_texts --output-dir ai_dataset

# 3. æŸ¥çœ‹ç»“æœ
ls ai_dataset/
```

### ç¤ºä¾‹2: æ‰¹é‡å¤„ç†å¤šä¸ªæ–‡ä»¶

```bash
# 1. å‡†å¤‡å¤šä¸ªæ–‡ä»¶
cp domain_text_1.txt input_texts/
cp domain_text_2.txt input_texts/
cp domain_text_3.txt input_texts/

# 2. è¿è¡Œå¤„ç†
python3 main.py --input-dir input_texts --output-dir batch_dataset
```

## ğŸ¨ å¯è§†åŒ–åŠŸèƒ½

ç¨‹åºä¼šè‡ªåŠ¨ç”Ÿæˆå¯è§†åŒ–ç»“æœï¼š

1. **çŸ¥è¯†å›¾è°±å¯è§†åŒ–** - æ˜¾ç¤ºå®ä½“å’Œå…³ç³»çš„ç½‘ç»œå›¾
2. **å­å›¾æ ·ä¾‹å¯è§†åŒ–** - å±•ç¤ºé‡‡æ ·çš„å­å›¾ç»“æ„
3. **ç»Ÿè®¡å›¾è¡¨** - æ•°æ®é›†çš„ç»Ÿè®¡ä¿¡æ¯

åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ç”Ÿæˆçš„HTMLæ–‡ä»¶å³å¯æŸ¥çœ‹ã€‚

## ğŸ“¦ ä»£ç ä¸‹è½½

é¡¹ç›®ä»£ç å·²æ‰“åŒ…ä¸ºï¼š`websailor_domain_dataset_20250728_023039.tar.gz`

**ä¸‹è½½ä½ç½®**: `/workspace/websailor_domain_dataset_20250728_023039.tar.gz`

**è§£å‹æ–¹æ³•**:
```bash
tar -xzf websailor_domain_dataset_20250728_023039.tar.gz
cd websailor_domain_dataset
```

## ğŸ¤ æŠ€æœ¯æ”¯æŒ

å¦‚é‡åˆ°é—®é¢˜ï¼Œè¯·ï¼š

1. æ£€æŸ¥æ—¥å¿—è¾“å‡ºè·å–é”™è¯¯ä¿¡æ¯
2. ç¡®è®¤è¾“å…¥æ–‡ä»¶æ ¼å¼æ­£ç¡®
3. éªŒè¯ä¾èµ–åŒ…æ˜¯å¦å®Œæ•´å®‰è£…
4. æŸ¥çœ‹é…ç½®æ–‡ä»¶å‚æ•°è®¾ç½®

## ğŸ“š æ›´å¤šä¿¡æ¯

- æŸ¥çœ‹ `README.md` äº†è§£é¡¹ç›®è¯¦ç»†ä¿¡æ¯
- æŸ¥çœ‹ `WEBSAILOR_COMPARISON.md` äº†è§£ä¸åŸå§‹WebSailorçš„å¯¹æ¯”
- è¿è¡Œ `python3 demo.py` ä½“éªŒæ ¸å¿ƒåŠŸèƒ½